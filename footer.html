<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Footer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="footer">
        <div class="footer-subsection">
            <a href="index.html">catalogue</a>
            <a href="index.html#stationery" target="_self">stationery<i class="fa-solid fa-pencil"></i></a>
            <a href="index.html#music" target="_self">music<i class="fa-solid fa-music"></i></a>
            <a href="index.html#touch" target="_self">touch<i class="fa-solid fa-fingerprint"></i></a>
            <a href="index.html#wallpaper" target="_self">wallpaper<i class="fa-solid fa-paint-roller"></i></a>
        </div>
        <div class="footer-subsection">
            <span>meta</span>
            <a href="tmo.html" target="_self">The Making Of<i class="fa-solid fa-landmark"></i></a>
            <a href="https://github.com/solswiss/mimic" target="_blank">Github Repo<i class="fa-solid fa-code"></i></a>
            <a href="mailto:sunstingeer@gmail.com?subject=[MIMIC]%20Message" target="_self">Talk to me<i style="transform:scaleX(-1)" class="fa-solid fa-dove"></i></a>
        </div>
        <div class="footer-subsection themes">
            <span>themes</span>
            <div class="theme-selector" id="theme:light">light</div>
            <div class="theme-selector" id="theme:dark">dark</div>
            <div class="theme-selector" id="theme:mono-red">mono red</div>
            <div class="theme-selector" id="theme:cataclysm">cataclysm</div>
            <div class="theme-selector" id="theme:fantastic-planet">fantastic planet</div>
        </div>
        <div class="footer-subsection settings">
            <span>settings</span>
            <span id="sound-toggle"></span></td>
        </div>
    </div>

    <script>
        function setGTheme(selector_id) {
            switch (selector_id) {
                case 'theme:light':
                    document.documentElement.setAttribute('gtheme', 'light');
                    break;
                case 'theme:dark':
                    document.documentElement.setAttribute('gtheme', 'dark');
                    break;
                case 'theme:mono-red':
                    document.documentElement.setAttribute('gtheme', 'mono-red');
                    break;
                case 'theme:cataclysm':
                    document.documentElement.setAttribute('gtheme', 'cataclysm');
                    break;
                case 'theme:fantastic-planet':
                    document.documentElement.setAttribute('gtheme', 'fantastic-planet');
                    break;
                default: document.documentElement.setAttribute('gtheme', 'light');
            }
        }
        const gtheme = localStorage.getItem('gtheme');
        if (gtheme) {
            setGTheme(gtheme);
        } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
            setGTheme('theme:dark');
        }

        $('.theme-selector').click(e => {
            console.log('you changed the website theme');
            localStorage.setItem('gtheme',e.target.id);
            setGTheme(e.target.id);
        });

        const sound = localStorage.getItem('play_audio');
        if (sound && JSON.parse(sound)) {
            $('#sound-toggle').text('disable sound');
        } else {
            $('#sound-toggle').text('enable sound');
        }
        $('#sound-toggle').click(e=>{
            if (JSON.parse(localStorage.getItem('play_audio'))) {
                // disable sound
                localStorage.setItem('play_audio','false');
                $('#sound-toggle').text('enable sound');
            } else {
                // enable sound
                localStorage.setItem('play_audio','true');
                $('#sound-toggle').text('disable sound');
            }
        })
    </script>
    <script src="base.js"></script>
</body>
</html>